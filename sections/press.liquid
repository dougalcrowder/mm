

<div class="insta press" data-section-id="{{ section.id }}" data-section-type="quotes">
  {% if section.settings.title != blank %}
    <h2>{{ section.settings.title | escape }}</h2>
  {% endif %}
  {% if section.settings.subtitle != blank %}
    <p class="subtitle">{{ section.settings.subtitle | escape }}</p>
  {% endif %}
  {% if section.blocks.size > 0 %}
      <div class="instagramification grid outer">
        {% for block in section.blocks %}
            <div class="block flex">
              {% if block.settings.link != blank %}
              <a target="_blank" href="{{ block.settings.link }}">
                {% endif %}
              {% if block.settings.insta_image != blank %}
              {% assign the_image = block.settings.insta_image %}
              <picture class="insta_shot">
                  <source srcset="{{ the_image | img_url: '640x', crop: 'center', format: 'pjpg', scale: 2 }} 2x, {{ the_image | img_url: '640x', crop: 'center', format: 'pjpg' }} 1x" media="(min-width: 1920px)" />
                  <source srcset="{{ the_image | img_url: '480x', crop: 'center', format: 'pjpg', scale: 2 }} 2x, {{ the_image | img_url: '480x', crop: 'center', format: 'pjpg' }} 1x" media="(min-width: 1680px)" />
                  <source srcset="{{ the_image | img_url: '420x', crop: 'center', format: 'pjpg', scale: 2 }} 2x, {{ the_image | img_url: '420x', crop: 'center', format: 'pjpg' }} 1x" media="(min-width: 1440px)" />
                  <source srcset="{{ the_image | img_url: '360x', crop: 'center', format: 'pjpg', scale: 2 }} 2x, {{ the_image | img_url: '360x', crop: 'center', format: 'pjpg' }} 1x" media="(min-width: 600px)" />
                  <source srcset="{{ the_image | img_url: '154x', crop: 'center', format: 'pjpg', scale: 2 }} 2x, {{ the_image | img_url: '154x', crop: 'center', format: 'pjpg' }} 1x" media="(min-width: 320px)" />
                <img loading="lazy" class="heroshot_image lazyimage" src="{{ the_image | img_url: '100x' }}" alt="{{ the_image.alt | escape }}" width="100" height="100" />
              </picture>
              {% endif %}
              {% if block.settings.link != blank %}
              </a>
              {% endif %}
              {% if block.settings.author != blank %}
                <div class="cite">{{ block.settings.author }}</div>
              {% endif %}
            </div>
        {% endfor %}
      </div>
  {% endif %}
  
  {%- if section.settings.button_link != blank -%}
  <div class="center">
    <a class="button {{ block.settings.button_position }}"{% if section.settings.button_link != blank %} href="{{ section.settings.button_link }}"{% endif %} {% if section.settings.button_link == blank %} aria-disabled="true"{% endif %}>{{ section.settings.button_label | escape }}</a>
  </div>
  {%- endif -%}
 
</div>



{% schema %}
{
  "name": {
    "en": "Press"
  },
  "class": "index-section insta-section press-section",
  "max_blocks": 12,
  "settings": [
    {
      "type": "text",
      "id": "title",
      "label": "Heading"
    },
    {
      "type": "text",
      "id": "subtitle",
      "label": "Subtitle"
    },
    {
      "type": "text",
      "id": "button_label",
      "label": "t:sections.multicolumn.settings.button_label.label"
    },
    {
      "type": "url",
      "id": "button_link",
      "label": "t:sections.multicolumn.settings.button_link.label"
    }
  ],
  "blocks": [
    {
      "type": "press_block",
      "name": {
        "en": "Press Item"
      },
      "settings": [
        {
          "type": "text",
          "id": "author",
          "label": "Publication Name"
        },
        {
          "type": "image_picker",
          "id": "insta_image",
          "label": "Press Image"
        },
        {
          "type": "url",
          "id": "link",
          "label": "Link"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": {
        "en": "Press"
      },
      "category": {
        "en": "Image"
      },
      "blocks": [
        {
          "type": "press_block"
        }
      ]
    }
  ]
}
{% endschema %}
