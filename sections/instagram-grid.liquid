

<div class="insta" data-section-id="{{ section.id }}" data-section-type="quotes">
  {% if section.settings.title != blank %}
    <h2>{{ section.settings.title | escape }}</h2>
  {% endif %}
  {% if section.settings.subtitle != blank %}
    <p class="subtitle">{{ section.settings.subtitle | escape }}</p>
  {% endif %}
  {% if section.blocks.size > 0 %}
      <div class="instagramification grid mininner">
        {% for block in section.blocks %}
            <div class="block">
              <a href="{{ block.settings.link }}">
              {% if block.settings.insta_image != blank %}
              {% assign the_image = block.settings.insta_image %}
              <picture class="insta_shot">
                  <source srcset="{{ the_image | img_url: '640x640', crop: 'center', format: 'pjpg', scale: 2 }} 2x, {{ the_image | img_url: '640x640', crop: 'center', format: 'pjpg' }} 1x" media="(min-width: 1920px)" />
                  <source srcset="{{ the_image | img_url: '480x480', crop: 'center', format: 'pjpg', scale: 2 }} 2x, {{ the_image | img_url: '480x480', crop: 'center', format: 'pjpg' }} 1x" media="(min-width: 1680px)" />
                  <source srcset="{{ the_image | img_url: '420x420', crop: 'center', format: 'pjpg', scale: 2 }} 2x, {{ the_image | img_url: '420x420', crop: 'center', format: 'pjpg' }} 1x" media="(min-width: 1440px)" />
                  <source srcset="{{ the_image | img_url: '360x360', crop: 'center', format: 'pjpg', scale: 2 }} 2x, {{ the_image | img_url: '360x360', crop: 'center', format: 'pjpg' }} 1x" media="(min-width: 600px)" />
                  <source srcset="{{ the_image | img_url: '154x154', crop: 'center', format: 'pjpg', scale: 2 }} 2x, {{ the_image | img_url: '154x154', crop: 'center', format: 'pjpg' }} 1x" media="(min-width: 320px)" />
                <img loading="lazy" class="heroshot_image lazyimage" src="{{ the_image | img_url: '100x100' }}" alt="{{ the_image.alt | escape }}" width="100" height="100" />
              </picture>
              {% endif %}
              </a>
              {% if block.settings.author != blank %}
                <div class="cite"><a href="https://www.instagram.com/{{ block.settings.author | escape | remove: "@" }}" target="_blank" rel="noopener">{{ block.settings.author | escape }}</a></div>
              {% endif %}
            </div>
        {% endfor %}
      </div>
  {% endif %}
  
  {%- if section.settings.button_link != blank -%}
  <div class="center">
    <a class="button {{ block.settings.button_position }}"{% if section.settings.button_link != blank %} href="{{ section.settings.button_link }}"{% endif %} {% if section.settings.button_link == blank %} aria-disabled="true"{% endif %}>{{ section.settings.button_label | escape }}</a>
  </div>
  {%- endif -%}
 
</div>



{% schema %}
{
  "name": {
    "en": "Instagram"
  },
  "class": "index-section insta-section",
  "max_blocks": 12,
  "settings": [
    {
      "type": "text",
      "id": "title",
      "label": {
        "en": "Heading"
      },
      "default": {
        "en": "Instagram"
      }
    },
    {
      "type": "text",
      "id": "subtitle",
      "label": {
        "en": "Subtitle"
      },
      "default": {
        "en": "#mollymahon"
      }
    },
    {
      "type": "text",
      "id": "button_label",
      "default": "Button label",
      "label": "t:sections.multicolumn.settings.button_label.label"
    },
    {
      "type": "url",
      "id": "button_link",
      "label": "t:sections.multicolumn.settings.button_link.label"
    }
  ],
  "blocks": [
    {
      "type": "Instalink",
      "name": {
        "en": "Instalink"
      },
      "settings": [
        {
          "type": "image_picker",
          "id": "insta_image",
          "label": {
            "en": "Instagram Image"
          },
          "info": "to get the image you will find it easiest to use something like https://ingramer.com/downloader/instagram/photo/ save the downloadedimage to yourHard drive then upload here"
        },
        {
          "type": "text",
          "id": "author",
          "label": {
            "en": "Authors Instagram handle"
          },
          "default": {
            "en": "@mollymahon"
          }
        },
        {
          "type": "url",
          "id": "link",
          "label": {
            "en": "Link"
          }
        }
      ]
    }
  ],
  "presets": [
    {
      "name": {
        "en": "Instagram Grid"
      },
      "category": {
        "en": "Image"
      },
      "blocks": [
        {
          "type": "Instalink"
        }
      ]
    }
  ]
}
{% endschema %}
